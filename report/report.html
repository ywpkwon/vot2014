<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>report.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.metro-vibes{padding:20px;color:#8e8071;font-size:15px;background:#fff;-webkit-font-smoothing:antialiased}.metro-vibes a{color:#3269a0}.metro-vibes a:hover{color:#4183c4}.metro-vibes h1,.metro-vibes h2,.metro-vibes h3,.metro-vibes h4,.metro-vibes h5{font-weight:400;color:#5c5146;letter-spacing:-1px}.metro-vibes h2{border-bottom:1px solid #e6e6e6;line-height:1.7em}.metro-vibes h6{color:#777}.metro-vibes hr{border:1px solid #e6e6e6}.metro-vibes p{line-height:19px}.metro-vibes p>code{color:#e86741;font-size:.9em}.metro-vibes pre>code{font-size:1em;letter-spacing:-1px;font-weight:400}.metro-vibes blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic;color:#e86741}.metro-vibes table{background-color:#fafafa}.metro-vibes table tr td,.metro-vibes table tr th{border:1px solid #e6e6e6}.metro-vibes table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#1d1f21;-webkit-text-size-adjust:none}.hljs span::selection,.hljs::selection{background:#373b41}.hljs span::-moz-selection,.hljs::-moz-selection{background:#373b41}.hljs,.hljs-at_rule .hljs-preprocessor,.hljs-class .hljs-params,.hljs-expression .hljs-begin-block,.hljs-expression .hljs-end-block,.hljs-expression .hljs-variable,.hljs-function .hljs-params,.hljs-setting .hljs-value{color:#c5c8c6}.hljs-class .hljs-title,.hljs-decorator,.hljs-function,.hljs-function .hljs-title,.hljs-header,.hljs-keyword .hljs-common,.hljs-sub,.hljs-tag .hljs-title,.hljs-title{color:#f0c674}.hljs-comment,.hljs-doctype,.hljs-javadoc,.hljs-output .hljs-value,.hljs-pi,.hljs-shebang{color:#707880}.hljs-argument,.hljs-char,.hljs-deletion,.hljs-hexcolor,.hljs-input .hljs-prompt,.hljs-link_url,.hljs-literal,.hljs-number,.hljs-symbol,.hljs-symbol .hljs-string{color:#c66}.hljs-addition,.hljs-at.rule .hljs-keyword,.hljs-attr_selector,.hljs-important,.hljs-javadoctag,.hljs-regexp,.hljs-special,.hljs-string,.hljs-tag .hljs-value{color:#b5bd68}.hljs-code,.hljs-envar,.hljs-expression,.hljs-id,.hljs-localvars,.hljs-property,.hljs-template_tag .hljs-filter .hljs-keyword,.hljs-variable,.hljs-variable .hljs-filter,.hljs-variable .hljs-filter .hljs-keyword{color:#b294bb}.hljs-bullet,.hljs-cdata,.hljs-chunk,.hljs-class .hljs-keyword,.hljs-function .hljs-keyword,.hljs-keyword,.hljs-label,.hljs-link_label,.hljs-list .hljs-title,.hljs-method,.hljs-smartquote,.hljs-statement,.hljs-tag,.hljs-xmlDocTag{color:#81a2be}.hljs-annotation,.hljs-at_rule,.hljs-at_rule .hljs-keyword,.hljs-at_rule .hljs-string,.hljs-cbracket,.hljs-change,.hljs-exception,.hljs-horizontal_rule,.hljs-operator,.hljs-preprocessor .hljs-keyword,.hljs-pseudo,.hljs-subst,.hljs-template_tag,.hljs-typedef,.hljs-variable,.hljs-variable .hljs-filter .hljs-argument{color:#8abeb7}.hljs-attribute,.hljs-blockquote,.hljs-built_in,.hljs-class,.hljs-constant,.hljs-header,.hljs-inheritance .hljs-parent,.hljs-link_reference,.hljs-quoted,.hljs-setting,.hljs-structure,.hljs-type,.hljs-typename{color:#de935f}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:2px;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:2px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:1em}.MathJax_MenuRadioCheck.RTL{right:1em;left:auto}.MathJax_MenuLabel{padding:2px 2em 4px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #CCC;margin:4px 1px 0}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:Highlight;color:HighlightText}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}.markdown html,a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0}.markdown article,aside,details,figcaption,figure,footer,header,hgroup,nav,section,summary{display:block}.markdown html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}.markdown body{margin:3.42rem 1.71rem;font-size:10px}.markdown #wrapper{margin:0 auto;margin-left:auto!important;padding:1.71rem 0!important}.markdown h1,h2,h3,h4,h5,h6{margin-bottom:1.6rem}.markdown h1,h2{margin-top:3.2rem}.markdown h1{font-size:2.5rem;line-height:3.2rem}.markdown h2{font-size:1.99rem;line-height:2.4rem}.markdown h3{font-size:1.41rem;line-height:2rem}.markdown h4{line-height:1.6rem}.markdown h5,h6{font-size:.8rem;line-height:1.2rem;text-transform:uppercase}.markdown p,blockquote,ol,ul{font-size:1rem;line-height:1.6rem;margin-bottom:1.6rem}.markdown ul ul,ol ol,ol ul,ul ol{margin-left:1.6rem;margin-top:1.6rem}#generated-toc ol ol,#generated-toc ol ul,#generated-toc ul ol,.markdown #generated-toc ul ul{margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.markdown blockquote{margin:0 0 1.6rem 2.4rem;padding-left:.8rem;border-left:4px solid rgba(0,0,0,.08);font-style:normal}.markdown blockquote ul{margin-left:.8rem}.markdown ol li blockquote,ul li blockquote{margin-left:0}.markdown a:visited{color:#7697cf;border-bottom:1px solid #ccc}.markdown a:hover{border-color:#165bd4}.markdown a:active{background-color:#e6e6e6}.markdown table{font-size:.85rem;margin:0 0 1.6rem;border-collapse:collapse}.markdown th,td{padding:.5rem .75rem;max-width:20rem}.markdown tr{border-bottom:1px solid #ccc}.markdown tbody tr:nth-child(odd){background-color:#f9f9f9}.markdown table code{font-size:85%}.markdown img{max-width:100%}.markdown caption,figcaption{font-size:.85rem;line-height:1.6rem;margin:0 1.6rem;text-align:left}.markdown figcaption{margin-bottom:1.6rem}.markdown h1,a:link,h2,pre{white-space:pre;white-space:pre-wrap;white-space:pre-line;white-space:-pre-wrap;white-space:-o-pre-wrap;white-space:-moz-pre-wrap;white-space:-hp-pre-wrap;word-wrap:break-word}.markdown code{font-family:Consolas,"Courier New",Courier,monospace;font-size:95%;border-radius:2px}.markdown pre{border-radius:8px;padding:.4rem;margin-bottom:1.6rem}.markdown pre code{background-color:transparent;padding:0}.markdown sup,a.footnote,sub{font-size:75%;height:0;line-height:1;position:relative}.markdown sup,a.footnote{vertical-align:super}.markdown sub{vertical-align:sub}.markdown dt{font-weight:600}.markdown dd{font-size:1rem;line-height:1.6rem;margin-bottom:1.6rem}.markdown a:focus{outline:#165bd4 solid 2px}.markdown a:hover{-moz-transition:all .2s ease-in-out;-webkit-transition:all .2s ease-in-out}.markdown h1,blockquote,h2,h3,h4,h5,h6,p{-moz-transition:all .2s ease;-webkit-transition:all .2s ease}@media only screen and (min-width:641px){html{font-size:15px}body{margin:2.4rem 2.4rem 3.2rem}h1{font-size:3.57rem;line-height:4rem}h2{font-size:2.24rem;line-height:2.8rem}}@media only screen and (min-width:1441px){html{font-size:22px}}@media print{*{background:0 0!important;color:#000!important}@page{margin:1cm}html{font-size:15px}body{margin:1rem!important}#wrapper{max-width:none}h1,h2,h3,h4,h5,h6,p{orphans:3;widows:3;page-break-after:avoid}ol,ul{list-style-position:inside!important;padding-right:0!important;margin-left:0!important}ol ol,ol p:not(:first-child),ol ul,ul ol,ul p:not(:first-child),ul ul{margin-left:2rem!important}a:link,a:visited{text-decoration:underline!important;font-weight:400!important}a[href]:after{content:" (" attr(href) ")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}a[href^="#"]{text-decoration:none!important}th{background-color:rgba(0,0,0,.2)!important;border-bottom:none!important}tr{page-break-inside:avoid}tbody tr:nth-child(even){background-color:rgba(0,0,0,.1)!important}pre{border:1px solid rgba(0,0,0,.2);page-break-inside:avoid}img{max-width:100%!important;page-break-inside:avoid}#wrapper #generated-toc ol,#wrapper #generated-toc ul{list-style-type:decimal}#wrapper #generated-toc ol li,#wrapper #generated-toc ul li{margin:1rem 0}}.markdown html{font-size:16px}.markdown body{font-family:Cinta,'Source Sans Pro',Avenir,sans-serif;background-color:#F9F9F9;color:#636463}.markdown #wrapper{max-width:40rem}.markdown h1,h2{color:#febf60}.markdown h3{color:#b46864}.markdown h4,h5,h6{font-size:1rem;color:#b46864;text-transform:none}.markdown h5{margin-left:1.6rem}.markdown h6{margin-left:3.2rem}.markdown p,dd,figcaption,ol,ul{font-weight:300}.markdown blockquote{border-color:#efefef}.markdown a:link,a:hover,a:visited{color:#636463}.markdown a:link{font-weight:600;text-decoration:none;border-bottom:none;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMEAAAAJCAYAAACL+UhFAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAE9JREFUWAnt0wENACEQBLHn/SEGK1jCGAk2pufgmp2x9pmfIxAW+MO/e53AExCBIeQFRJCfAAAR2EBeQAT5CQAQgQ3kBUSQnwAAEdhAXuACbF4CJXG10MIAAAAASUVORK5CYII=);background-repeat:repeat-x;background-position:0 .7rem}.markdown a:visited{background-position:0 1rem}.markdown a:hover{font-weight:600;text-decoration:none;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMEAAAAJCAYAAACL+UhFAAAEJGlDQ1BJQ0MgUHJvZmlsZQAAOBGFVd9v21QUPolvUqQWPyBYR4eKxa9VU1u5GxqtxgZJk6XtShal6dgqJOQ6N4mpGwfb6baqT3uBNwb8AUDZAw9IPCENBmJ72fbAtElThyqqSUh76MQPISbtBVXhu3ZiJ1PEXPX6yznfOec7517bRD1fabWaGVWIlquunc8klZOnFpSeTYrSs9RLA9Sr6U4tkcvNEi7BFffO6+EdigjL7ZHu/k72I796i9zRiSJPwG4VHX0Z+AxRzNRrtksUvwf7+Gm3BtzzHPDTNgQCqwKXfZwSeNHHJz1OIT8JjtAq6xWtCLwGPLzYZi+3YV8DGMiT4VVuG7oiZpGzrZJhcs/hL49xtzH/Dy6bdfTsXYNY+5yluWO4D4neK/ZUvok/17X0HPBLsF+vuUlhfwX4j/rSfAJ4H1H0qZJ9dN7nR19frRTeBt4Fe9FwpwtN+2p1MXscGLHR9SXrmMgjONd1ZxKzpBeA71b4tNhj6JGoyFNp4GHgwUp9qplfmnFW5oTdy7NamcwCI49kv6fN5IAHgD+0rbyoBc3SOjczohbyS1drbq6pQdqumllRC/0ymTtej8gpbbuVwpQfyw66dqEZyxZKxtHpJn+tZnpnEdrYBbueF9qQn93S7HQGGHnYP7w6L+YGHNtd1FJitqPAR+hERCNOFi1i1alKO6RQnjKUxL1GNjwlMsiEhcPLYTEiT9ISbN15OY/jx4SMshe9LaJRpTvHr3C/ybFYP1PZAfwfYrPsMBtnE6SwN9ib7AhLwTrBDgUKcm06FSrTfSj187xPdVQWOk5Q8vxAfSiIUc7Z7xr6zY/+hpqwSyv0I0/QMTRb7RMgBxNodTfSPqdraz/sDjzKBrv4zu2+a2t0/HHzjd2Lbcc2sG7GtsL42K+xLfxtUgI7YHqKlqHK8HbCCXgjHT1cAdMlDetv4FnQ2lLasaOl6vmB0CMmwT/IPszSueHQqv6i/qluqF+oF9TfO2qEGTumJH0qfSv9KH0nfS/9TIp0Wboi/SRdlb6RLgU5u++9nyXYe69fYRPdil1o1WufNSdTTsp75BfllPy8/LI8G7AUuV8ek6fkvfDsCfbNDP0dvRh0CrNqTbV7LfEEGDQPJQadBtfGVMWEq3QWWdufk6ZSNsjG2PQjp3ZcnOWWing6noonSInvi0/Ex+IzAreevPhe+CawpgP1/pMTMDo64G0sTCXIM+KdOnFWRfQKdJvQzV1+Bt8OokmrdtY2yhVX2a+qrykJfMq4Ml3VR4cVzTQVz+UoNne4vcKLoyS+gyKO6EHe+75Fdt0Mbe5bRIf/wjvrVmhbqBN97RD1vxrahvBOfOYzoosH9bq94uejSOQGkVM6sN/7HelL4t10t9F4gPdVzydEOx83Gv+uNxo7XyL/FtFl8z9ZAHF4bBsrEwAAAE9JREFUWAnt0wENACEQBLHn/SEGK1jCGAk2pufgmp2x9pmfIxAW+MO/e53AExCBIeQFRJCfAAAR2EBeQAT5CQAQgQ3kBUSQnwAAEdhAXuACbF4CJXG10MIAAAAASUVORK5CYII=);background-repeat:repeat;background-position-y:0 0}.markdown table{font-weight:300}.markdown table,th,tr{border:none}.markdown th{border-bottom:1px solid #da9e1a;background-color:#ffd18c}.markdown tbody tr:nth-child(even){background-color:#efefef}.markdown code{color:#5597e7;padding:0;background-color:transparent}.markdown pre{background-color:transparent}.markdown hr{clear:none;height:1rem;width:14rem;margin:2.5rem auto;border:none;color:none;background-color:transparent;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjEyNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxMjYgMTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM6c2tldGNoPSJodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gvbnMiPgogICAgPHRpdGxlPmhyPC90aXRsZT4KICAgIDxkZXNjcmlwdGlvbj5DcmVhdGVkIHdpdGggU2tldGNoIChodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2gpPC9kZXNjcmlwdGlvbj4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxwYXRoIGQ9Ik0xMywzIEwzLDEzIiBpZD0iTGluZSIgc3Ryb2tlPSIjRDRERUVCIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNMTMsMyBMMjMuMDQ5ODc1MywxMy4wNDk4NzUzIiBpZD0iTGluZSIgc3Ryb2tlPSIjRDRERUVCIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNMzMsMyBMMjMsMTMiIGlkPSJMaW5lIiBzdHJva2U9IiNENERFRUIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik0zMywzIEw0My4wNDk4NzUzLDEzLjA0OTg3NTMiIGlkPSJMaW5lIiBzdHJva2U9IiNENERFRUIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik01MywzIEw0MywxMyIgaWQ9IkxpbmUiIHN0cm9rZT0iI0Q0REVFQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTUzLDMgTDYzLjA0OTg3NTMsMTMuMDQ5ODc1MyIgaWQ9IkxpbmUiIHN0cm9rZT0iI0Q0REVFQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+CiAgICAgICAgPHBhdGggZD0iTTczLDMgTDYzLDEzIiBpZD0iTGluZSIgc3Ryb2tlPSIjRDRERUVCIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNNzMsMyBMODMuMDQ5ODc1MywxMy4wNDk4NzUzIiBpZD0iTGluZSIgc3Ryb2tlPSIjRDRERUVCIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNOTMsMyBMODMsMTMiIGlkPSJMaW5lIiBzdHJva2U9IiNENERFRUIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik05MywzIEwxMDMuMDQ5ODc1LDEzLjA0OTg3NTMiIGlkPSJMaW5lIiBzdHJva2U9IiNENERFRUIiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc2tldGNoOnR5cGU9Ik1TU2hhcGVHcm91cCI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik0xMTMsMyBMMTAzLDEzIiBpZD0iTGluZSIgc3Ryb2tlPSIjRDRERUVCIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNMTEzLDMgTDEyMy4wNDk4NzUsMTMuMDQ5ODc1MyIgaWQ9IkxpbmUiIHN0cm9rZT0iI0Q0REVFQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==);background-repeat:no-repeat;background-position-x:50%}.markdown ::selection{background-color:#D4DEEB;color:#b46864}.markdown ::-moz-selection{background-color:#D4DEEB;color:#b46864}.markdown #generated-toc ul li a{font-weight:400}@media only screen and (min-width:641px){html{font-size:17px}}@media only screen and (min-width:1441px){html{font-size:22px}}.MathJax_Display{text-align:center;margin:1em 0;position:relative;display:block!important;text-indent:0;max-width:none;max-height:none;min-width:0;min-height:0;width:100%}.MathJax .merror{background-color:#FF8;color:#C00;border:1px solid #C00;padding:1px 3px;font-style:normal;font-size:90%}.MathJax .MJX-monospace{font-family:monospace}.MathJax .MJX-sans-serif{font-family:sans-serif}#MathJax_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #AAA;-webkit-box-shadow:2px 2px 5px #AAA;-moz-box-shadow:2px 2px 5px #AAA;-khtml-box-shadow:2px 2px 5px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.MathJax{display:inline;font-style:normal;font-weight:400;line-height:normal;font-size:100%;font-size-adjust:none;text-indent:0;text-align:left;text-transform:none;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;padding:0;margin:0}.MathJax a,.MathJax img,.MathJax nobr{border:0;padding:0;margin:0;max-width:5000em;max-height:5000em;min-width:0;min-height:0;vertical-align:0;line-height:normal;text-decoration:none}img.MathJax_strut{border:0!important;padding:0!important;margin:0!important;vertical-align:0!important}.MathJax span{display:inline;position:static;border:0;padding:0;margin:0;vertical-align:0;line-height:normal;text-decoration:none}.MathJax nobr{white-space:nowrap!important}.MathJax img{display:inline!important;float:none!important}.MathJax *{transition:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none}.MathJax_Processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MathJax_Processed{display:none!important}.MathJax_ExBox{display:block!important;overflow:hidden;width:1px;height:60ex;min-height:0;max-height:none}.MathJax .MathJax_EmBox{display:block!important;overflow:hidden;width:1px;height:60em;min-height:0;max-height:none}.MathJax .MathJax_HitBox{cursor:text;background:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_Tooltip *,.MathJax .MathJax_HitBox *{filter:none;opacity:1;background:0 0}@font-face{font-family:MathJax_Main;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Main;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.4-beta-2) format('opentype');font-weight:700}@font-face{font-family:MathJax_Main;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.4-beta-2) format('opentype');font-style:italic}@font-face{font-family:MathJax_Math;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.4-beta-2) format('opentype');font-style:italic}@font-face{font-family:MathJax_Caligraphic;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size1;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size2;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size3;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.4-beta-2) format('opentype')}@font-face{font-family:MathJax_Size4;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.4-beta-2) format('opentype')}.MathJax .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}@font-face{font-family:MathJax_AMS;src:url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/woff/MathJax_AMS-Regular.woff?rev=2.4-beta-2) format('woff'),url(file:///C:/Users/ywpkw/AppData/Roaming/Haroo%20Studio/Haroopad/Libraries/.js/MathJax/fonts/HTML-CSS/TeX/otf/MathJax_AMS-Regular.otf?rev=2.4-beta-2) format('opentype')}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown metro-vibes">
<h1 id="uber-atc-assignment:-car-exercise"><a name="uber-atc-assignment:-car-exercise" href="#uber-atc-assignment:-car-exercise"></a>Uber ATC assignment: Car Exercise</h1><h3 id="youngwook-paul-kwon,-uc-berkeley"><a name="youngwook-paul-kwon,-uc-berkeley" href="#youngwook-paul-kwon,-uc-berkeley"></a>Youngwook Paul Kwon, UC Berkeley</h3><h2 id="introduction"><a name="introduction" href="#introduction"></a>Introduction</h2><p>It was more fun than I expected and many things to think about. The input images of a moving vehicle are from the 2014 Visual Object Tracking Challenge (<a href="http://www.votchallenge.net/vot2014/">http://www.votchallenge.net/vot2014/</a>).  I tried to answer the original and the most obvious question: “where is the vehicle given its location in the first frame?.” I will also discuss about “what is the pixel-level segmentation of the car in each frame?.”</p><center> <img src="fig/00000145.jpg" style="width:450px;"> <img src="fig/00000228.jpg" style="width:450px;"> </center><h2 id="implementation"><a name="implementation" href="#implementation"></a>Implementation</h2><p> I implemented a few schemes to improve performance. I will explain each in a separate section. Please understand that I implemented these using MATLAB for fast prototyping.  I tried different things and had no time to convert codes into Python. I can guarantee that I can convert codes into Python. I did not use any special libraries for this submission.</p><p>For simplicity, I denote an image and a bounding box at video <code>frame i</code> as <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-321-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2426" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2427"><span class="msubsup" id="MathJax-Span-2428"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2429" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-2430" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-321">I_i</script></span> and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-322-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2431" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.451em 1000em 2.617em -0.461em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2432"><span class="msubsup" id="MathJax-Span-2433"><span style="display: inline-block; position: relative; width: 1.007em; height: 0px;"><span style="position: absolute; clip: rect(1.67em 1000em 2.678em -0.461em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2434" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.659em;"><span class="mi" id="MathJax-Span-2435" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.155em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-322">F_i</script></span>, respectively. In other words, we can rephrase the question as: when we have a set of images <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-323-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2436" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2437"><span class="msubsup" id="MathJax-Span-2438"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2439" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-2440" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-323">I_i</script></span> and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-324-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2441" style="width: 1.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.148em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.451em 1000em 2.609em -0.461em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2442"><span class="msubsup" id="MathJax-Span-2443"><span style="display: inline-block; position: relative; width: 1.117em; height: 0px;"><span style="position: absolute; clip: rect(1.67em 1000em 2.678em -0.461em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2444" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.659em;"><span class="mn" id="MathJax-Span-2445" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.146em; vertical-align: -0.25em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-324">F_1</script></span>, what are <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-325-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2446" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.451em 1000em 2.617em -0.461em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2447"><span class="msubsup" id="MathJax-Span-2448"><span style="display: inline-block; position: relative; width: 1.007em; height: 0px;"><span style="position: absolute; clip: rect(1.67em 1000em 2.678em -0.461em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2449" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.659em;"><span class="mi" id="MathJax-Span-2450" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.155em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-325">F_i </script></span>s?</p><h2 id="algorithm"><a name="algorithm" href="#algorithm"></a>Algorithm</h2><h3 id="1.-local-sub-patch-matching-using-euclidean-distance."><a name="1.-local-sub-patch-matching-using-euclidean-distance." href="#1.-local-sub-patch-matching-using-euclidean-distance."></a>1. Local sub-patch matching using Euclidean distance.</h3><p>Because the target object (the vehicle) changes in its size and perspective, template matching of entire frame may not good. So I determined to find local level matching. I sampled 200 points (subdivided into 20 in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-383-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2901" style="width: 0.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.601em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.689em -0.457em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-2902"><span class="mi" id="MathJax-Span-2903" style="font-family: MathJax_Math; font-style: italic;">x</span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-383">x</script></span> and 10 in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-384-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2904" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.883em -0.471em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-2905"><span class="mi" id="MathJax-Span-2906" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.923em; vertical-align: -0.317em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-384">y</script></span>) within <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-385-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2907" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.451em 1000em 2.617em -0.461em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2908"><span class="msubsup" id="MathJax-Span-2909"><span style="display: inline-block; position: relative; width: 1.007em; height: 0px;"><span style="position: absolute; clip: rect(1.67em 1000em 2.678em -0.461em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2910" style="font-family: MathJax_Math; font-style: italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.106em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.659em;"><span class="mi" id="MathJax-Span-2911" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.155em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-385">F_i</script></span>, collected 15x15 sub-patches centered at them in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-386-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2912" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2913"><span class="msubsup" id="MathJax-Span-2914"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2915" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-2916" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-386">I_i</script></span>, and did template matching in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-387-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2917" style="width: 2.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2918"><span class="msubsup" id="MathJax-Span-2919"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2920" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-2921"><span class="mrow" id="MathJax-Span-2922"><span class="mi" id="MathJax-Span-2923" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-2924" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2925" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-387">I_{i+1}</script></span>. For implementation simplicity, I just used Euclidean distance of RGB color. Using LAB color space and Normalized cross correlation measure would improve performance. For calculation efficiency in finding match of a sub-patch centered <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-388-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2926" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-2927"><span class="mo" id="MathJax-Span-2928" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-2929" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-2930" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-2931" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-2932" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-388">(x,y)</script></span> in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-389-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2933" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2934"><span class="msubsup" id="MathJax-Span-2935"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2936" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-2937" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-389">I_i</script></span>, I first searched it in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-390-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2938" style="width: 16.417em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.443em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.374em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-2939"><span class="mo" id="MathJax-Span-2940" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-2941" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-2942" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-2943" style="font-family: MathJax_Main; padding-left: 0.222em;">30</span><span class="mo" id="MathJax-Span-2944" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-2945" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">x</span><span class="mo" id="MathJax-Span-2946" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-2947" style="font-family: MathJax_Main; padding-left: 0.222em;">30</span><span class="mo" id="MathJax-Span-2948" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-2949" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-2950" style="font-family: MathJax_Main; padding-left: 0.167em;">[</span><span class="mi" id="MathJax-Span-2951" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-2952" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-2953" style="font-family: MathJax_Main; padding-left: 0.222em;">30</span><span class="mo" id="MathJax-Span-2954" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-2955" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-2956" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-2957" style="font-family: MathJax_Main; padding-left: 0.222em;">30</span><span class="mo" id="MathJax-Span-2958" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-390">[x-30, x+30], [y-30, y+30]</script></span> range in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-391-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2959" style="width: 2.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-2960"><span class="msubsup" id="MathJax-Span-2961"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2962" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-2963"><span class="mrow" id="MathJax-Span-2964"><span class="mi" id="MathJax-Span-2965" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-2966" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-2967" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-391">I_{i+1}</script></span> with stride 3. Once it returns the nearest neighbor position <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-392-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2968" style="width: 3.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.06em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.755em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-2969"><span class="mo" id="MathJax-Span-2970" style="font-family: MathJax_Main;">(</span><span class="msup" id="MathJax-Span-2971"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.689em -0.457em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2972" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.601em;"><span class="mo" id="MathJax-Span-2973" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-2974" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-2975" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.883em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2976" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.598em;"><span class="mo" id="MathJax-Span-2977" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-2978" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.364em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-392">(x', y')</script></span>, I refined the position by re-searching in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-393-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2979" style="width: 7.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.23em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.755em 1000em 3.092em -0.374em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-2980"><span class="mo" id="MathJax-Span-2981" style="font-family: MathJax_Main;">[</span><span class="msup" id="MathJax-Span-2982"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.689em -0.457em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2983" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.601em;"><span class="mo" id="MathJax-Span-2984" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-2985" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-2986" style="font-family: MathJax_Main; padding-left: 0.222em;">5</span><span class="mo" id="MathJax-Span-2987" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-2988" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.895em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.689em -0.457em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2989" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.601em;"><span class="mo" id="MathJax-Span-2990" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-2991" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-2992" style="font-family: MathJax_Main; padding-left: 0.222em;">5</span><span class="mo" id="MathJax-Span-2993" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.364em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-393">[x'-5, x'+5]</script></span> and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-394-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-2994" style="width: 7.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.23em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.755em 1000em 3.092em -0.374em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-2995"><span class="mo" id="MathJax-Span-2996" style="font-family: MathJax_Main;">[</span><span class="msup" id="MathJax-Span-2997"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.883em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-2998" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.598em;"><span class="mo" id="MathJax-Span-2999" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3000" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mn" id="MathJax-Span-3001" style="font-family: MathJax_Main; padding-left: 0.222em;">5</span><span class="mo" id="MathJax-Span-3002" style="font-family: MathJax_Main;">,</span><span class="msup" id="MathJax-Span-3003" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.892em; height: 0px;"><span style="position: absolute; clip: rect(1.908em 1000em 2.883em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3004" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.822em; left: 0.598em;"><span class="mo" id="MathJax-Span-3005" style="font-size: 70.7%; font-family: MathJax_Main;">′</span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3006" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mn" id="MathJax-Span-3007" style="font-family: MathJax_Main; padding-left: 0.222em;">5</span><span class="mo" id="MathJax-Span-3008" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.364em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-394">[y'-5, y'+5]</script></span> with stride 1.</p><p>An example of matches (optical flows) is shown below.</p><center> <img src="fig/example.png" alt="Drawing" style="width:600px;"> </center><h3 id="2.-affine-transformation-using-ransac"><a name="2.-affine-transformation-using-ransac" href="#2.-affine-transformation-using-ransac"></a>2. Affine transformation using RANSAC</h3><p>I assumed the vehicle of <code>frame i+1</code> can be approximated with the vehicle of <code>frame i</code> and affine transformation <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-395-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3009" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3010"><span class="msubsup" id="MathJax-Span-3011"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3012" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3013" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-395">T_i</script></span>. Let say, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-396-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3014" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3015"><span class="msubsup" id="MathJax-Span-3016"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3017" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3018" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-396"> I_i</script></span> is the i-th image in <code>frame_i</code>, then <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-397-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3019" style="width: 6.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.137em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3020"><span class="msubsup" id="MathJax-Span-3021"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3022" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3023"><span class="mrow" id="MathJax-Span-3024"><span class="mi" id="MathJax-Span-3025" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3026" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3027" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3028" style="font-family: MathJax_Main; padding-left: 0.278em;">≈</span><span class="mi" id="MathJax-Span-3029" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span class="mo" id="MathJax-Span-3030" style="font-family: MathJax_Main;">[</span><span class="msubsup" id="MathJax-Span-3031"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3032" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3033" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-3034" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-397"> I_{i+1} \approx  T[I_i] </script></span>. ** Note that even though an affine transformation <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-398-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3035" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3036"><span class="mi" id="MathJax-Span-3037" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.959em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-398">T</script></span> is <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-399-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3038" style="width: 2.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.24em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.849em 1000em 2.864em -0.45em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3039"><span class="mn" id="MathJax-Span-3040" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-3041" style="font-family: MathJax_Main; padding-left: 0.222em;">×</span><span class="mn" id="MathJax-Span-3042" style="font-family: MathJax_Main; padding-left: 0.222em;">3</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.971em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-399">3\times3</script></span> matrix, for simplicity I will denote <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-400-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3043" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3044"><span class="mi" id="MathJax-Span-3045" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span class="mo" id="MathJax-Span-3046" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-3047" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mo" id="MathJax-Span-3048" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-400">T[I]</script></span> as a warped image from image <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-401-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3049" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3050"><span class="mi" id="MathJax-Span-3051" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-401">I</script></span> by <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-402-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3052" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3053"><span class="mi" id="MathJax-Span-3054" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.959em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-402">T</script></span>, and similarly, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-403-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3055" style="width: 4.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.552em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3056"><span class="mi" id="MathJax-Span-3057" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span class="mo" id="MathJax-Span-3058" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-3059" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3060" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-3061" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3062" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-3063" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3064" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-403">T[(x,y)]</script></span> as a remapped point from <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-404-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3065" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3066"><span class="mo" id="MathJax-Span-3067" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3068" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-3069" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3070" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-3071" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-404">(x,y)</script></span> by <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-405-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3072" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3073"><span class="mi" id="MathJax-Span-3074" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.959em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-405">T</script></span>. </p><p>Now we have a set of flows, i.e., a set of points <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-406-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3075" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3076"><span class="msubsup" id="MathJax-Span-3077"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3078" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3079" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-406">P_i</script></span> in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-407-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3080" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3081"><span class="msubsup" id="MathJax-Span-3082"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3083" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3084" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-407"> I_i</script></span>and its correspondences <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-408-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3085" style="width: 2.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3086"><span class="msubsup" id="MathJax-Span-3087"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3088" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.656em;"><span class="texatom" id="MathJax-Span-3089"><span class="mrow" id="MathJax-Span-3090"><span class="mi" id="MathJax-Span-3091" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3092" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3093" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-408">P_{i+1}</script></span> in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-409-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3094" style="width: 2.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3095"><span class="msubsup" id="MathJax-Span-3096"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3097" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3098"><span class="mrow" id="MathJax-Span-3099"><span class="mi" id="MathJax-Span-3100" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3101" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3102" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-409">I_{i+1}</script></span>, and we want to know <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-410-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3103" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3104"><span class="msubsup" id="MathJax-Span-3105"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3106" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3107" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-410">T_i</script></span>. I used RANSAC algorithm. I will skip the details of RANSAC. The beauty of it is that it can give you a model (transformation <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-411-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3108" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3109"><span class="msubsup" id="MathJax-Span-3110"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3111" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3112" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-411">T_i</script></span>) that most of data (<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-412-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3113" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3114"><span class="msubsup" id="MathJax-Span-3115"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3116" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3117" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-412">P_i</script></span> and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-413-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3118" style="width: 2.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.913em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3119"><span class="msubsup" id="MathJax-Span-3120"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3121" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.656em;"><span class="texatom" id="MathJax-Span-3122"><span class="mrow" id="MathJax-Span-3123"><span class="mi" id="MathJax-Span-3124" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3125" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3126" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-413">P_{i+1}</script></span>) satisfies even when the data is contaminated by <em>outliers</em>. </p><p>An example is shown below. Red optical flows show the <em>inlier</em> flows (i.e., the ones who agree with <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-414-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3127" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3128"><span class="msubsup" id="MathJax-Span-3129"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3130" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3131" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-414">T_i</script></span>).</p><center> <img src="fig/flow1.png" alt="Drawing" style="width:600px;"> </center><h3 id="3.-interaction-with-more-future-frames"><a name="3.-interaction-with-more-future-frames" href="#3.-interaction-with-more-future-frames"></a>3. Interaction with more future frames</h3><p>Finding matches and transformation only with next frame may not enough in that (1) since two images are very similar, they provide too many false inliers, and (2) since pixel locations are all integers, subtle flow within 1 pixel will lose its floating number. So I calculate matches and transformations from <code>frame_i</code> to <code>frame i+1</code>, <code>frame i+2</code>, <code>frame i+3</code>, <code>frame i+4</code>, <code>frame i+5</code>. An example is shown below. After I scaled the flows (e.g., 1/5*(flow to <code>frame i+5</code>)), I concluded overall <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-415-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3132" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3133"><span class="msubsup" id="MathJax-Span-3134"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3135" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3136" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-415">T_i</script></span> using RANSAC as discussed in the previous section.</p><center> <img src="fig/flow5.png" alt="Drawing" style="width:600px;"> </center><h3 id="4.-overcoming-occlusions-using-`palette`"><a name="4.-overcoming-occlusions-using-`palette`" href="#4.-overcoming-occlusions-using-`palette`"></a>4. Overcoming occlusions using <code>Palette</code></h3><p>Because this algorithm basically relies on sub-patch matching, once some salient occluding object appears, the occluding object may generate dominant matches. Then the algorithm will track the occluding object instead of the vehicle. For this reason, finding matches only from <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-416-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3137" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3138"><span class="msubsup" id="MathJax-Span-3139"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3140" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3141" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-416">I_i</script></span> is not enough. Regardless of a temporal appearance at <code>frame i</code>, the algorithm need to <em>remember</em> the look of the vehicle. </p><p>For this purpose, I defined <code>palette</code>, which is nothing but a weighted average of vehicle. Specifically, palette <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-417-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3142" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3143"><span class="msubsup" id="MathJax-Span-3144"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3145" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3146" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-417">P_i</script></span> at <code>frame i</code> is defined as follow:</p><p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-418-Frame"><nobr><span class="math" id="MathJax-Span-3147" style="width: 18.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.973em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.459em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3148"><span class="msubsup" id="MathJax-Span-3149"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3150" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.656em;"><span class="texatom" id="MathJax-Span-3151"><span class="mrow" id="MathJax-Span-3152"><span class="mi" id="MathJax-Span-3153" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3154" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-3155" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3156" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-3157" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">α</span><span class="mo" id="MathJax-Span-3158" style="font-family: MathJax_Main; padding-left: 0.222em;">⋅</span><span class="mspace" id="MathJax-Span-3159" style="height: 0em; vertical-align: 0em; width: 0.222em; display: inline-block; overflow: hidden;"></span><span class="msubsup" id="MathJax-Span-3160" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.813em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3161" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.59em;"><span class="texatom" id="MathJax-Span-3162"><span class="mrow" id="MathJax-Span-3163"><span class="mi" id="MathJax-Span-3164" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3165" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-3166" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3167" style="font-family: MathJax_Main;">[</span><span class="msubsup" id="MathJax-Span-3168"><span style="display: inline-block; position: relative; width: 1.879em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3169" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.656em;"><span class="texatom" id="MathJax-Span-3170"><span class="mrow" id="MathJax-Span-3171"><span class="mi" id="MathJax-Span-3172" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3173" style="font-size: 70.7%; font-family: MathJax_Main;">−</span><span class="mn" id="MathJax-Span-3174" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3175" style="font-family: MathJax_Main;">]</span><span class="mo" id="MathJax-Span-3176" style="font-family: MathJax_Main; padding-left: 0.222em;">+</span><span class="mo" id="MathJax-Span-3177" style="font-family: MathJax_Main; padding-left: 0.222em;">(</span><span class="mn" id="MathJax-Span-3178" style="font-family: MathJax_Main;">1</span><span class="mo" id="MathJax-Span-3179" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-3180" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.222em;">α</span><span class="mo" id="MathJax-Span-3181" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3182" style="font-family: MathJax_Main; padding-left: 0.222em;">⋅</span><span class="msubsup" id="MathJax-Span-3183" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3184" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3185" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-418">P_{i-1} = \alpha \cdot \: T_{i-1}[P_{i-1}] + (1-\alpha) \cdot I_i</script><p></p><p>where  <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-419-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3186" style="width: 5.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.317em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.98em -0.453em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3187"><span class="mn" id="MathJax-Span-3188" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-3189" style="font-family: MathJax_Main; padding-left: 0.278em;">≤</span><span class="mi" id="MathJax-Span-3190" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">α</span><span class="mo" id="MathJax-Span-3191" style="font-family: MathJax_Main; padding-left: 0.278em;">≤</span><span class="mn" id="MathJax-Span-3192" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.114em; vertical-align: -0.235em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-419">0 \leq \alpha \leq 1</script></span>, and <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-420-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3193" style="width: 2.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.803em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3194"><span class="mi" id="MathJax-Span-3195" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span class="mo" id="MathJax-Span-3196" style="font-family: MathJax_Main;">[</span><span class="mi" id="MathJax-Span-3197" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mo" id="MathJax-Span-3198" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-420">T[I]</script></span> means applying transformation <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-421-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3199" style="width: 0.883em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.71em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3200"><span class="mi" id="MathJax-Span-3201" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.959em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-421">T</script></span> to image <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-422-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3202" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.546em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3203"><span class="mi" id="MathJax-Span-3204" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.967em; vertical-align: -0.067em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-422">I</script></span>.</p><p>Higher <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-423-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3205" style="width: 0.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.656em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.908em 1000em 2.689em -0.458em); top: -2.514em; left: 0em;"><span class="mrow" id="MathJax-Span-3206"><span class="mi" id="MathJax-Span-3207" style="font-family: MathJax_Math; font-style: italic;">α</span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.686em; vertical-align: -0.08em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-423">\alpha</script></span> value relies more on the current appearance at <code>frame_i</code>, and lower value relies more on the historical appearance. I show an example below when <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-424-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3208" style="width: 6.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.082em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.82em 1000em 3.036em -0.459em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3209"><span class="mi" id="MathJax-Span-3210" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-3211" style="font-family: MathJax_Math; font-style: italic;">l</span><span class="mi" id="MathJax-Span-3212" style="font-family: MathJax_Math; font-style: italic;">p</span><span class="mi" id="MathJax-Span-3213" style="font-family: MathJax_Math; font-style: italic;">h</span><span class="mi" id="MathJax-Span-3214" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mo" id="MathJax-Span-3215" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mn" id="MathJax-Span-3216" style="font-family: MathJax_Main; padding-left: 0.278em;">0.2</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.217em; vertical-align: -0.303em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-424">alpha=0.2</script></span>. One can see that temporally changing background is blurred while the appearance of vehicle is maintained, even when the vehicle passes trees. </p><center> <img src="fig/object.gif" alt="asdf"> </center><h3 id="5.-refined-transformation"><a name="5.-refined-transformation" href="#5.-refined-transformation"></a>5. Refined transformation</h3><p>So now, when I find optical flows at <code>frame i</code>, there are two steps. Firstly, I find optical flows from <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-425-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3217" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3218"><span class="msubsup" id="MathJax-Span-3219"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3220" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3221" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-425">P_i</script></span> (instead of <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-426-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3222" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3223"><span class="msubsup" id="MathJax-Span-3224"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3225" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3226" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-426">I_i</script></span>) to <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-427-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3227" style="width: 6.017em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.918em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.427em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3228"><span class="mo" id="MathJax-Span-3229" style="font-family: MathJax_Main;">{</span><span class="msubsup" id="MathJax-Span-3230"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3231" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3232"><span class="mrow" id="MathJax-Span-3233"><span class="mi" id="MathJax-Span-3234" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3235" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3236" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mtext" id="MathJax-Span-3237" style="font-family: MathJax_Main;">~</span><span class="msubsup" id="MathJax-Span-3238"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3239" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3240"><span class="mrow" id="MathJax-Span-3241"><span class="mi" id="MathJax-Span-3242" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3243" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3244" style="font-size: 70.7%; font-family: MathJax_Main;">5</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mo" id="MathJax-Span-3245" style="font-family: MathJax_Main;">}</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-427">\{I_{i+1}\text{~}I_{i+5}\}</script></span> and calculate rough transformation <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-428-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3246" style="width: 3.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.732em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.151em 1000em 2.77em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3247"><span class="msubsup" id="MathJax-Span-3248"><span style="display: inline-block; position: relative; width: 2.729em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3249" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; clip: rect(1.75em 1000em 2.713em -0.477em); top: -2.894em; left: 0.796em;"><span class="texatom" id="MathJax-Span-3250"><span class="mrow" id="MathJax-Span-3251"><span class="mi" id="MathJax-Span-3252" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3253" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3254" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-3255" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3256" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span><span style="position: absolute; clip: rect(1.773em 1000em 2.576em -0.477em); top: -2.101em; left: 0.59em;"><span class="mi" id="MathJax-Span-3257" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.708em; vertical-align: -0.446em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-428">T_i^{rough}</script></span>, as described earlier. A good thing is that the flows are now less affected by temporal occlusion. A bad thing is that since <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-429-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3258" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3259"><span class="msubsup" id="MathJax-Span-3260"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3261" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3262" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-429">P_i</script></span> is an averaged appearance, optical flows maybe not accurate. For this reason, as second step, I re-search matches from the original <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-430-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3263" style="width: 1.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.874em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3264"><span class="msubsup" id="MathJax-Span-3265"><span style="display: inline-block; position: relative; width: 0.831em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3266" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.482em;"><span class="mi" id="MathJax-Span-3267" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-430">I_i</script></span> (instead of <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-431-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3268" style="width: 1.283em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.038em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3269"><span class="msubsup" id="MathJax-Span-3270"><span style="display: inline-block; position: relative; width: 1.004em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3271" style="font-family: MathJax_Math; font-style: italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.109em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.656em;"><span class="mi" id="MathJax-Span-3272" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-431"> P_i </script></span>) to <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-432-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3273" style="width: 4.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.934em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.831em 1000em 3.05em -0.466em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3274"><span class="msubsup" id="MathJax-Span-3275"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3276" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3277"><span class="mrow" id="MathJax-Span-3278"><span class="mi" id="MathJax-Span-3279" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3280" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3281" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span><span class="mtext" id="MathJax-Span-3282" style="font-family: MathJax_Main;">~</span><span class="msubsup" id="MathJax-Span-3283"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3284" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3285"><span class="mrow" id="MathJax-Span-3286"><span class="mi" id="MathJax-Span-3287" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3288" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3289" style="font-size: 70.7%; font-family: MathJax_Main;">5</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-432">I_{i+1}\text{~}I_{i+5}</script></span>. This time I search only within a tiny region that <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-433-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3290" style="width: 3.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.732em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.151em 1000em 2.77em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3291"><span class="msubsup" id="MathJax-Span-3292"><span style="display: inline-block; position: relative; width: 2.729em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3293" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; clip: rect(1.75em 1000em 2.713em -0.477em); top: -2.894em; left: 0.796em;"><span class="texatom" id="MathJax-Span-3294"><span class="mrow" id="MathJax-Span-3295"><span class="mi" id="MathJax-Span-3296" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3297" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3298" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-3299" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3300" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span><span style="position: absolute; clip: rect(1.773em 1000em 2.576em -0.477em); top: -2.101em; left: 0.59em;"><span class="mi" id="MathJax-Span-3301" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.708em; vertical-align: -0.446em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-433">T_i^{rough}</script></span> points. Specifically, let say a sample point is <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-434-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3302" style="width: 2.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.295em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.764em 1000em 3.092em -0.398em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3303"><span class="mo" id="MathJax-Span-3304" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3305" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-3306" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3307" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-3308" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.353em; vertical-align: -0.372em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-434">(x,y)</script></span>. I only search its corresponding patch, in <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-435-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3309" style="width: 2.15em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.749em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.667em -0.466em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3310"><span class="msubsup" id="MathJax-Span-3311"><span style="display: inline-block; position: relative; width: 1.705em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.466em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3312" style="font-family: MathJax_Math; font-style: italic;">I<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.309em; left: 0.482em;"><span class="texatom" id="MathJax-Span-3313"><span class="mrow" id="MathJax-Span-3314"><span class="mi" id="MathJax-Span-3315" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mo" id="MathJax-Span-3316" style="font-size: 70.7%; font-family: MathJax_Main;">+</span><span class="mn" id="MathJax-Span-3317" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span></span><span style="display: inline-block; width: 0px; height: 2.459em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.22em; vertical-align: -0.32em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-435">I_{i+1}</script></span>, within a region (<span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-436-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3318" style="width: 1.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.311em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.848em 1000em 2.864em -0.436em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3319"><span class="mo" id="MathJax-Span-3320" style="font-family: MathJax_Main;">±</span><span class="mn" id="MathJax-Span-3321" style="font-family: MathJax_Main;">5</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.973em; vertical-align: -0.094em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-436">\pm 5</script></span> in x and y) centered at <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-437-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3322" style="width: 6.817em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.574em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.534em 1000em 3.152em -0.471em); top: -2.678em; left: 0em;"><span class="mrow" id="MathJax-Span-3323"><span class="msubsup" id="MathJax-Span-3324"><span style="display: inline-block; position: relative; width: 2.729em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3325" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; clip: rect(1.75em 1000em 2.713em -0.477em); top: -2.894em; left: 0.796em;"><span class="texatom" id="MathJax-Span-3326"><span class="mrow" id="MathJax-Span-3327"><span class="mi" id="MathJax-Span-3328" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">r</span><span class="mi" id="MathJax-Span-3329" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">o</span><span class="mi" id="MathJax-Span-3330" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">u</span><span class="mi" id="MathJax-Span-3331" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">g<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span class="mi" id="MathJax-Span-3332" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">h</span></span></span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span><span style="position: absolute; clip: rect(1.773em 1000em 2.576em -0.477em); top: -2.101em; left: 0.59em;"><span class="mi" id="MathJax-Span-3333" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span><span class="mo" id="MathJax-Span-3334" style="font-family: MathJax_Main;">[</span><span class="mo" id="MathJax-Span-3335" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-3336" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-3337" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-3338" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.167em;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-3339" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-3340" style="font-family: MathJax_Main;">]</span></span><span style="display: inline-block; width: 0px; height: 2.678em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.708em; vertical-align: -0.446em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-437">T_i^{rough}[(x,y)]</script></span>.</p><h3 id="6.-object-probability-map"><a name="6.-object-probability-map" href="#6.-object-probability-map"></a>6. Object probability map</h3><p>Now I am going to discuss the second question, “what is the pixel-level segmentation of the car in each frame?.” Even though I did not fully investigated this, it is very interesting to think. In section 1-3, I discuss how to find matches and calculate transformation using RANSAC (interacting with <code>frame i+1</code> to <code>frame i+5</code>.) I collected inliers (among sampling points), and made density map of inliers, <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-438-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3341" style="width: 1.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.257em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.448em 1000em 2.617em -0.459em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3342"><span class="msubsup" id="MathJax-Span-3343"><span style="display: inline-block; position: relative; width: 1.223em; height: 0px;"><span style="position: absolute; clip: rect(1.667em 1000em 2.678em -0.459em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3344" style="font-family: MathJax_Math; font-style: italic;">D</span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.874em;"><span class="mi" id="MathJax-Span-3345" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.159em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-438">D_i</script></span>, titled <code>probability map</code>. Because probability map reflects which pixels agree with <span><span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-439-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-3346" style="width: 1.217em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.984em; height: 0px; font-size: 122%;"><span style="position: absolute; clip: rect(1.454em 1000em 2.617em -0.471em); top: -2.295em; left: 0em;"><span class="mrow" id="MathJax-Span-3347"><span class="msubsup" id="MathJax-Span-3348"><span style="display: inline-block; position: relative; width: 0.939em; height: 0px;"><span style="position: absolute; clip: rect(1.673em 1000em 2.678em -0.471em); top: -2.514em; left: 0em;"><span class="mi" id="MathJax-Span-3349" style="font-family: MathJax_Math; font-style: italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.12em;"></span></span><span style="display: inline-block; width: 0px; height: 2.514em;"></span></span><span style="position: absolute; top: -2.254em; left: 0.59em;"><span class="mi" id="MathJax-Span-3350" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 2.404em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.295em;"></span></span></span><span style="border-left-width: 0em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.152em; vertical-align: -0.259em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-439">T_i</script></span>, one can regard high probability region as one object. Note that if we can increase the resolution of sampling grid, we can have higher resolution of probability map.</p><center> <img src="fig/prob_map.png" style="width:900px;"> </center><p>Probability maps are shown below. I expect we can generate vehicle segmentation by considering pixel color and probability map together (e.g., maybe normalized cut?). This will also increase detection performance.</p><center> <img src="fig/prob.gif" alt="asdf"> </center><br><center> <img src="fig/prob_embed.gif" alt="asdf"> </center><p>You can see that when trees occludes vehicle, probability maps do not include trees.</p><h2 id="result"><a name="result" href="#result"></a>Result</h2><p>Here is the result video (actually GIF file!).</p><center> <img src="fig/result.gif" alt="asdf"> </center><p>Note that I did not exploit the probability maps (in section 6). If I exploit them in a smart way, I think I can refine bounding boxes. Overall, this assignment was very fun to do. </p><p>Thanks for reading :)</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
